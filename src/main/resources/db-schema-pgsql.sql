CREATE TABLE IF NOT EXISTS app_alive (
    ID SERIAL NOT NULL,
    APP_NAME VARCHAR(50) NOT NULL, 
    START_DATETIME TIMESTAMP NOT NULL, 
    END_DATETIME TIMESTAMP NOT NULL, 
    LAST_MOD_DATETIME TIMESTAMP NOT NULL);

CREATE TABLE IF NOT EXISTS app_metrics (
    APP_ALIVE_ID INTEGER NOT NULL,
    CONTENT VARCHAR(4096) NOT NULL,
    DATETIME TIMESTAMP NOT NULL
);

ALTER TABLE app_metrics
ADD CONSTRAINT FK_to_app_alive
FOREIGN KEY (APP_ALIVE_ID)
REFERENCES app_alive (ID)
ON DELETE CASCADE;

